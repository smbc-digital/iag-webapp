!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof exports?module.exports=n(t):t.Matchbox=n(t)}(window,function(t){"use strict";function n(t){for(var n=Object.keys(O),e=0;e<n.length;e++){var i=n[e];t.hasOwnProperty(i)||(t[i]=O[i])}return t}function e(t){return Array.prototype.slice.call(t)}function i(t){var n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},66))}}function s(t){c(document.documentElement,t.settings.initClass)}function o(t){u(document.documentElement,t.settings.initClass)}function r(t,n){return t.classList?t.classList.contains(n):!!t.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function c(t,n){t.classList?t.classList.add(n):r(t,n)||(t.className+=" "+n)}function u(t,n){if(t.classList)t.classList.remove(n);else if(r(t,n)){var e=new RegExp("(\\s|^)"+n+"(\\s|$)");t.className=t.className.replace(e," ")}}function f(t){var n=e(document.querySelectorAll(t.settings.parentSelector)),i=[];return n.forEach(function(n,s,o){var r=e(n.querySelectorAll(t.settings.childSelector));i.push(r)}),i}function a(t){var n=f(t);n.forEach(function(t,n,e){t.forEach(function(t,n,e){t.style.height=""})})}function l(t,n){return t.slice(0,n)}function h(t,n){return t.length<=n?t:t.slice(-1*(t.length-n))}function g(t){var n=0;return t.forEach(function(t,e,i){t.style.height="",t.offsetHeight>n&&(n=t.offsetHeight)}),n}function p(t,n){isNaN(n)||(n+="px"),t.forEach(function(t,e,i){t.style.height=n})}function d(t,n){if(0!==t.length){var e,i,s;e=l(t,n),t.length>n&&(i=h(t,n)),s=g(e),p(e,s),"undefined"!=typeof i&&i.length&&d(i,n)}}function v(t){var n=f(t);n.forEach(function(n,e,i){d(n,t.settings.groupsOf)})}function m(t){var n=t.settings.breakpoints,e=[];return Array.isArray(n)&&n.length&&(n.forEach(function(t,n,i){if(t.hasOwnProperty("bp")&&t.hasOwnProperty("groupsOf")){var i=[t.bp,t.groupsOf];e.push(i)}}),e.sort(function(t,n){return t[0]-n[0]})),e}function y(n){var e,i,s,o=1/0,r=n.settings._initialGroupsOf;e=m(n),i=t.innerWidth,e.length?e.forEach(function(t,n,e){t[0]<o&&(o=t[0]);var c=t[0],u=void 0!==e[n+1]?e[n+1][0]:1/0;i>=c&&u>i?s=t[1]:o>i&&(s=r)}):s=r,n.groupsOf(s)}function E(t){var e=this,s=t||{};e.settings=n(s),e.settings._initialGroupsOf=e.settings.groupsOf,e._onResize=function(){i(y(e))}}var O={initClass:"js-matchbox-initialized",parentSelector:".js-box",childSelector:".js-match",groupsOf:2,breakpoints:[]};return E.prototype={destroy:function(){var n=this;a(this),o(this),t.removeEventListener("resize",n._onResize,!1)},init:function(){var n=this;this.destroy(),s(this),y(this),t.addEventListener("resize",n._onResize,!1)},groupsOf:function(t){isNaN(t)||(this.settings.groupsOf=t,v(this))}},E});