!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.Matchbox=e(t)}(window,function(t){"use strict";var e={initClass:"js-matchbox-initialized",parentSelector:".js-box",childSelector:".js-match",groupsOf:2,breakpoints:[]};function s(t){return Array.prototype.slice.call(t)}function n(t){var e,s;e=document.documentElement,s=t.settings.initClass,e.classList?e.classList.add(s):o(e,s)||(e.className+=" "+s)}function i(t){!function(t,e){if(t.classList)t.classList.remove(e);else if(o(t,e)){var s=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(s," ")}}(document.documentElement,t.settings.initClass)}function o(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function r(t){var e=[];return s(document.querySelectorAll(t.settings.parentSelector)).forEach(function(n,i,o){var r=s(n.querySelectorAll(t.settings.childSelector));e.push(r)}),e}function c(t,e){var s,n,i,o,r,a,f,u;0!==t.length&&(i=e,s=t.slice(0,i),t.length>e&&(r=e,n=(o=t).length<=r?o:o.slice(-1*(o.length-r))),a=0,s.forEach(function(t,e,s){t.style.height="",t.offsetHeight>a&&(a=t.offsetHeight)}),f=s,u=a,isNaN(u)||(u+="px"),f.forEach(function(t,e,s){t.style.height=u}),void 0!==n&&n.length&&c(n,e))}function a(e){var s,n,i,o,r,c=1/0,a=e.settings._initialGroupsOf;o=e.settings.breakpoints,r=[],Array.isArray(o)&&o.length&&(o.forEach(function(t,e,s){t.hasOwnProperty("bp")&&t.hasOwnProperty("groupsOf")&&(s=[t.bp,t.groupsOf],r.push(s))}),r.sort(function(t,e){return t[0]-e[0]})),s=r,n=t.innerWidth,s.length?s.forEach(function(t,e,s){t[0]<c&&(c=t[0]);var o=t[0],r=void 0!==s[e+1]?s[e+1][0]:1/0;n>=o&&n<r?i=t[1]:n<c&&(i=a)}):i=a,e.groupsOf(i)}function f(t){var s=this,n=t||{};s.settings=function(t){for(var s=Object.keys(e),n=0;n<s.length;n++){var i=s[n];t.hasOwnProperty(i)||(t[i]=e[i])}return t}(n),s.settings._initialGroupsOf=s.settings.groupsOf,s._onResize=function(){a(s)}}return f.prototype={destroy:function(){r(this).forEach(function(t,e,s){t.forEach(function(t,e,s){t.style.height=""})}),i(this),t.removeEventListener("resize",this._onResize,!1)},init:function(){this.destroy(),n(this),a(this),t.addEventListener("resize",this._onResize,!1)},groupsOf:function(t){var e;isNaN(t)||(this.settings.groupsOf=t,r(e=this).forEach(function(t,s,n){c(t,e.settings.groupsOf)}))}},f});