!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.Matchbox=e(t)}(window,function(t){"use strict";var e={initClass:"js-matchbox-initialized",parentSelector:".js-box",childSelector:".js-match",groupsOf:2,breakpoints:[]};function n(t){return Array.prototype.slice.call(t)}function s(t){e=document.documentElement,n=t.settings.initClass,e.classList?e.classList.add(n):r(e,n)||(e.className+=" "+n);var e,n}function i(t){!function(t,e){if(t.classList)t.classList.remove(e);else if(r(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}(document.documentElement,t.settings.initClass)}function r(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function o(t){var e=[];return n(document.querySelectorAll(t.settings.parentSelector)).forEach(function(s,i,r){var o=n(s.querySelectorAll(t.settings.childSelector));e.push(o)}),e}function c(t,e){if(0!==t.length){var n,s,i;r=e,n=t.slice(0,r);var r;t.length>e&&(a=e,s=(o=t).length<=a?o:o.slice(-1*(o.length-a)));var o,a;i=function(t){var e=0;return t.forEach(function(t,n,s){t.style.height="",t.offsetHeight>e&&(e=t.offsetHeight)}),e}(n),f=n,u=i,isNaN(u)||(u+="px"),f.forEach(function(t,e,n){t.style.height=u});var f,u;void 0!==s&&s.length&&c(s,e)}}function a(e){var n,s,i,r=1/0,o=e.settings._initialGroupsOf;n=function(t){var e=t.settings.breakpoints,n=[];return Array.isArray(e)&&e.length&&(e.forEach(function(t,e,s){t.hasOwnProperty("bp")&&t.hasOwnProperty("groupsOf")&&(s=[t.bp,t.groupsOf],n.push(s))}),n.sort(function(t,e){return t[0]-e[0]})),n}(e),s=t.innerWidth,n.length?n.forEach(function(t,e,n){t[0]<r&&(r=t[0]);var c=t[0],a=void 0!==n[e+1]?n[e+1][0]:1/0;s>=c&&s<a?i=t[1]:s<r&&(i=o)}):i=o,e.groupsOf(i)}function f(t){var n=this,s=t||{};n.settings=function(t){for(var n=Object.keys(e),s=0;s<n.length;s++){var i=n[s];t.hasOwnProperty(i)||(t[i]=e[i])}return t}(s),n.settings._initialGroupsOf=n.settings.groupsOf,n._onResize=function(){!function(t){var e=!1}(a(n))}}return f.prototype={destroy:function(){o(this).forEach(function(t,e,n){t.forEach(function(t,e,n){t.style.height=""})});i(this),t.removeEventListener("resize",this._onResize,!1)},init:function(){this.destroy(),s(this),a(this),t.addEventListener("resize",this._onResize,!1)},groupsOf:function(t){isNaN(t)||(this.settings.groupsOf=t,o(e=this).forEach(function(t,n,s){c(t,e.settings.groupsOf)}));var e}},f});