!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.Matchbox=e(t)}(window,function(i){"use strict";var o={initClass:"js-matchbox-initialized",parentSelector:".js-box",childSelector:".js-match",groupsOf:2,breakpoints:[]};function r(t){return Array.prototype.slice.call(t)}function t(t){var e,s;e=document.documentElement,s=t.settings.initClass,e.classList?e.classList.add(s):n(e,s)||(e.className+=" "+s)}function e(t){!function(t,e){if(t.classList)t.classList.remove(e);else if(n(t,e)){var s=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(s," ")}}(document.documentElement,t.settings.initClass)}function n(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function s(i){var t=r(document.querySelectorAll(i.settings.parentSelector)),o=[];return t.forEach(function(t,e,s){var n=r(t.querySelectorAll(i.settings.childSelector));o.push(n)}),o}function u(t,e){var s,n,i,o,r,c,a,f;0!==t.length&&(i=e,s=t.slice(0,i),t.length>e&&(r=e,n=(o=t).length<=r?o:o.slice(-1*(o.length-r))),c=0,s.forEach(function(t,e,s){t.style.height="",t.offsetHeight>c&&(c=t.offsetHeight)}),a=s,f=c,isNaN(f)||(f+="px"),a.forEach(function(t,e,s){t.style.height=f}),void 0!==n&&n.length&&u(n,e))}function c(t){var e,o,r,s,n,c=1/0,a=t.settings._initialGroupsOf;s=t.settings.breakpoints,n=[],Array.isArray(s)&&s.length&&(s.forEach(function(t,e,s){t.hasOwnProperty("bp")&&t.hasOwnProperty("groupsOf")&&(s=[t.bp,t.groupsOf],n.push(s))}),n.sort(function(t,e){return t[0]-e[0]})),e=n,o=i.innerWidth,e.length?e.forEach(function(t,e,s){t[0]<c&&(c=t[0]);var n=t[0],i=void 0!==s[e+1]?s[e+1][0]:1/0;n<=o&&o<i?r=t[1]:o<c&&(r=a)}):r=a,t.groupsOf(r)}function a(t){var e=this,s=t||{};e.settings=function(t){for(var e=Object.keys(o),s=0;s<e.length;s++){var n=e[s];t.hasOwnProperty(n)||(t[n]=o[n])}return t}(s),e.settings._initialGroupsOf=e.settings.groupsOf,e._onResize=function(){c(e)}}return a.prototype={destroy:function(){s(this).forEach(function(t,e,s){t.forEach(function(t,e,s){t.style.height=""})}),e(this),i.removeEventListener("resize",this._onResize,!1)},init:function(){this.destroy(),t(this),c(this),i.addEventListener("resize",this._onResize,!1)},groupsOf:function(t){var n;isNaN(t)||(this.settings.groupsOf=t,s(n=this).forEach(function(t,e,s){u(t,n.settings.groupsOf)}))}},a});