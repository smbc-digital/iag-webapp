define(["jquery"],function(o){var e=function(e){!0===o(e).is(":checked")?o("#volunteering-text").show():o("#volunteering-text").hide()},t=function(e){!0===o(e).is(":checked")?o("#donations-text").show():o("#donations-text").hide()},n=function(e){!0===o(e).is(":checked")?o("#additional-information-text").show():o("#additional-information-text").hide()};o("#currentLocationgroup").click(function(){var o="";return navigator.geolocation.getCurrentPosition(function(e){var t=new google.maps.Geocoder,n=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);t.geocode({latLng:n},function(t,n){if(n===google.maps.GeocoderStatus.OK){var i=(s=t[0].address_components,d=extractFromAdress(s,"route"),u=extractFromAdress(s,"postal_code"),l=extractFromAdress(s,"locality"),h=extractFromAdress(s,"country"),""===(g=(d+" "+u+" "+l).trim())&&(g=h),g),a=window.location.href;o=e.coords.latitude,longitude=e.coords.longitude;var c=a+"/results?Category=all&latitude="+o+"&longitude="+longitude+"&Location="+i+"&Order=Nearest";window.location.href=c}else r("We couldn't find this location -- please check the location and try again.");var s,d,u,l,h,g})},function(){r("We couldn't find your current location -- please check the location settings on your device.")},{maximumAge:1e4,timeout:6e3,enableHighAccuracy:!0}),!1});var r=function(e){o("#currentLocationgrouperror").css("border","1px solid #C83725"),o("#currentLocationgrouperror").html(e),o(".group-homepage-container .form-field-validation-error").show(),o("#currentLocationgrouperror").show(),o("#currentLocationgroup").css("margin-bottom","10px"),o("#currentLocationgroup .group-block-content").addClass("group-block-content-margin")};return{Init:function(){o(".upToDate").click(function(){var e=o(this),t=window.location.href+"/up-to-date";return t=t.replace(/#/g,""),o.post(t,function(t){"200"==t&&(o("#ConfirmedUpToDate").val(!0),e.toggleClass(".upToDate"),e.hasClass(".upToDate")&&e.text("Thanks for letting us know"))}),!1}),o(window).width()<=767&&(o("#edit-search").hide(),o(".result-arrow").addClass("result-search-down-arrow"),o("#open-edit-search").click(function(){o("#edit-search").show(),o(".result-arrow").toggleClass("result-search-down-arrow"),o(".result-arrow").toggleClass("result-search-up-arrow"),o(".result-search-down-arrow").parent().click(function(){o("#edit-search").show()}),o(".result-search-up-arrow").parent().click(function(){o("#edit-search").hide()})}),o(".result-search-up-arrow").parent().click(function(){o("#edit-search").hide()})),o(".print-this").click(function(){window.print()}),e(o("#volunteering-needed")),o("#volunteering-needed").on("change",function(){e(this)}),t(o("#donations-needed")),o("#donations-needed").on("change",function(){t(this)}),n(o("#additional-information")),o("#additional-information").on("change",function(){n(this)}),o(".remove-favourite a,.add-favourite a").attr("href","javascript:void(0)")}}});