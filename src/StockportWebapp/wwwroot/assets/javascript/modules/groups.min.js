define(["jquery"],function(t){function c(o,e){for(var t=0;t<o.length;t++)for(var n=0;n<o[t].types.length;n++)if(o[t].types[n]===e)return o[t].long_name;return""}function o(o){!0===t(o).is(":checked")?t("#volunteering-text").show():t("#volunteering-text").hide()}function e(o){!0===t(o).is(":checked")?t("#donations-text").show():t("#donations-text").hide()}function n(o){!0===t(o).is(":checked")?t("#additional-information-text").show():t("#additional-information-text").hide()}t("#currentLocationgroup").click(function(){var i,a;return navigator.geolocation.getCurrentPosition(function(r){var o=new google.maps.Geocoder,e=new google.maps.LatLng(r.coords.latitude,r.coords.longitude);o.geocode({latLng:e},function(o,e){var t,n;e===google.maps.GeocoderStatus.OK?(e=o[0].address_components,o=c(e,"route"),t=c(e,"postal_code"),n=c(e,"locality"),e=c(e,"country"),t=o=""===(o=(o+" "+t+" "+n).trim())?e:o,n=window.location.href,i=r.coords.latitude,a=r.coords.longitude,window.location.href=n+"/results?Category=all&latitude="+i+"&longitude="+a+"&Location="+t+"&Order=Nearest"):s("We couldn't find this location -- please check the location and try again.")})},function(){s("We couldn't find your current location -- please check the location settings on your device.")},{maximumAge:1e4,timeout:6e3,enableHighAccuracy:!0}),!1});var s=function(o){t("#currentLocationgrouperror").css("border","1px solid #C83725"),t("#currentLocationgrouperror").html(o),t(".group-homepage-container .form-field-validation-error").show(),t("#currentLocationgrouperror").show(),t("#currentLocationgroup").css("margin-bottom","10px"),t("#currentLocationgroup .group-block-content").addClass("group-block-content-margin")};return{Init:function(){t(".upToDate").click(function(){var e=t(this),o=(o=window.location.href+"/up-to-date").replace(/#/g,"");return t.post(o,function(o){"200"==o&&(t("#ConfirmedUpToDate").val(!0),e.toggleClass(".upToDate"),e.hasClass(".upToDate"))&&e.text("Thanks for letting us know")}),!1}),t(window).width()<=767&&(t("#edit-search").hide(),t(".result-arrow").addClass("result-search-down-arrow"),t("#open-edit-search").click(function(){t("#edit-search").show(),t(".result-arrow").toggleClass("result-search-down-arrow"),t(".result-arrow").toggleClass("result-search-up-arrow"),t(".result-search-down-arrow").parent().click(function(){t("#edit-search").show()}),t(".result-search-up-arrow").parent().click(function(){t("#edit-search").hide()})}),t(".result-search-up-arrow").parent().click(function(){t("#edit-search").hide()})),t(".print-this").click(function(){window.print()}),o(t("#volunteering-needed")),t("#volunteering-needed").on("change",function(){o(this)}),e(t("#donations-needed")),t("#donations-needed").on("change",function(){e(this)}),n(t("#additional-information")),t("#additional-information").on("change",function(){n(this)}),t(".remove-favourite a,.add-favourite a").attr("href","javascript:void(0)")}}});