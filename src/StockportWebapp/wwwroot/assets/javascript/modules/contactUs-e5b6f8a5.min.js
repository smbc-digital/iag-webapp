define(["jquery"],function(a){var r=function(n,i){n=t(n,i);n<0?(n*=-1,$input.siblings(".chars-remaining").html("<small class='error-text'>"+n+" characters over the limit</small>")):$input.siblings(".chars-remaining").html("<small>"+n+" characters remaining</small>")},t=function(n,i){var n=a(n).val(),i=parseInt(i),t=n.match(/(\n)/g),r=0;return null!=t&&(r=t.length),i-(n.length+r)};return{Init:function(){a(".chars-remaining").each(function(n,i){var t=($input=a(i).siblings(".form-control-deep")).data("val-length-max");r($input,t),$input.on("keyup",function(){r(this,t)})}),a("form").submit(function(n){console.log("form submission triggered");var i=a(".chars-remaining");0<i.length&&(i=($input=i.siblings(".form-control-deep")).data("val-length-max"),t($input,i)<0)&&n.preventDefault()})}}});