define(["jquery","utils","primaryfilter"],function(t,o,c){var e=function(o){!0===t(o).is(":checked")?t("#volunteering-text").show():t("#volunteering-text").hide()},n=function(o){!0===t(o).is(":checked")?t("#donations-text").show():t("#donations-text").hide()},r=function(o){!0===t(o).is(":checked")?t("#additional-information-text").show():t("#additional-information-text").hide()};t("#currentLocationgroup").click(function(){var a="";return navigator.geolocation.getCurrentPosition(function(i){var o=new google.maps.Geocoder,e=new google.maps.LatLng(i.coords.latitude,i.coords.longitude);o.geocode({latLng:e},function(o,e){if(e===google.maps.GeocoderStatus.OK){var t=c.BuildLocation(o[0].address_components),n=window.location.href;a=i.coords.latitude,longitude=i.coords.longitude;var r=n+"/results?Category=all&latitude="+a+"&longitude="+longitude+"&Location="+t+"&Order=Nearest";window.location.href=r}else d("We couldn't find this location -- please check the location and try again.")})},function(){d("We couldn't find your current location -- please check the location settings on your device.")},{maximumAge:1e4,timeout:6e3,enableHighAccuracy:!0}),!1});var d=function(o){t("#currentLocationgrouperror").css("border","1px solid #C83725"),t("#currentLocationgrouperror").html(o),t(".group-homepage-container .form-field-validation-error").show(),t("#currentLocationgrouperror").show(),t("#currentLocationgroup").css("margin-bottom","10px"),t("#currentLocationgroup .group-block-content").addClass("group-block-content-margin")};return{Init:function(){t(".upToDate").click(function(){var e=t(this),o=window.location.href+"/up-to-date";return o=o.replace(/#/g,""),t.post(o,function(o){"200"==o&&(t("#ConfirmedUpToDate").val(!0),e.toggleClass(".upToDate"),e.hasClass(".upToDate")&&e.text("Thanks for letting us know"))}),!1}),t(window).width()<=o.MobileWidth&&(t("#edit-search").hide(),t(".result-arrow").addClass("result-search-down-arrow"),t("#open-edit-search").click(function(){t("#edit-search").show(),t(".result-arrow").toggleClass("result-search-down-arrow"),t(".result-arrow").toggleClass("result-search-up-arrow"),t(".result-search-down-arrow").parent().click(function(){t("#edit-search").show()}),t(".result-search-up-arrow").parent().click(function(){t("#edit-search").hide()})}),t(".result-search-up-arrow").parent().click(function(){t("#edit-search").hide()})),t(".print-this").click(function(){window.print()}),e(t("#volunteering-needed")),t("#volunteering-needed").on("change",function(){e(this)}),n(t("#donations-needed")),t("#donations-needed").on("change",function(){n(this)}),r(t("#additional-information")),t("#additional-information").on("change",function(){r(this)}),t(".remove-favourite a,.add-favourite a").attr("href","javascript:void(0)")}}});