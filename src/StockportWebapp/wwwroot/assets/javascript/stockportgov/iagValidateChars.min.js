define(["jquery"],function(n){var i=function(n,i){var r=t(n,i);r<0?(r*=-1,$input.siblings(".chars-remaining").html("<small class='error-text'>"+r+" characters over the limit</small>")):$input.siblings(".chars-remaining").html("<small>"+r+" characters remaining</small>")},t=function(i,t){var r=n(i).val(),a=parseInt(t),e=r.match(/(\n)/g),l=0;return null!=e&&(l=e.length),a-(r.length+l)};return{Init:function(){n(".chars-remaining").each(function(t,r){$input=n(r).siblings(".form-control-deep");var a=$input.data("val-length-max");i($input,a),$input.on("keyup",function(){i(this,a)})}),n("form").submit(function(i){console.log("form submission triggered");var r=n(".chars-remaining");if(r.length>0){$input=r.siblings(".form-control-deep");var a=$input.data("val-length-max");t($input,a)<0&&i.preventDefault()}})}}});