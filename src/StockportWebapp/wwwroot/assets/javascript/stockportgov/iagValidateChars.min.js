define(["jquery"],function(n){var t=function(n,t){var a=i(n,t);console.log("input- "+n+". limit- "+t),a<0?(a*=-1,$input.siblings(".chars-remaining").html("You are "+a+" characters over the limit")):$input.siblings(".chars-remaining").html("You have "+a+" characters remaining")},i=function(t,i){var a=n(t).val(),e=parseInt(i),r=a.match(/(\n)/g),u=0;return null!=r&&(u=r.length),e-(a.length+u)};return{Init:function(){n(".chars-remaining").each(function(i,a){$input=n(a).siblings("textarea");var e=n("textarea").attr("maxlength");t($input,e),$input.on("keyup",function(){t(this,e)})}),n("form").submit(function(t){var a=n(".chars-remaining");if(a.length>0){$input=a.siblings("textarea");var e=$input.data("maxlength");i($input,e)<0&&t.preventDefault()}})}}});