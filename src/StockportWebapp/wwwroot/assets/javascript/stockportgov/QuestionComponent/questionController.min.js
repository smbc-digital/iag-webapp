define(["jquery","questionview","questionvalidator"],function(t,e,n){function i(){var t="validate";return o.lastIndexOf("/")===o.length-1?"/"+o+t:"/"+o+"/"+t}var o,a=function(o,a,r){var s=t.Deferred(),u=i();return t.post(u,o.serialize(),function(){}).done(function(t){var i=n.processValidation(t,a,e.showValidationForQuestion,r);i?e.enableNextButton():e.disableNextButton(),s.resolve()}).fail(function(t){s.reject(t.status+" ["+t.statusText+"]")}),s.promise()},r=function(t){o=t,e.showNextbutton(),e.bindEventListeners(a)};return{init:r,validateQuestions:a}});