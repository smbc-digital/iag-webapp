define(["jquery","questionview","questionvalidator"],function(e,t,n){var i;var o=function(o,s,a){var u;u=[],e("#checkbox-list input[type='checkbox']:checked").each(function(){u.push(e(this).parent().find(".question-option-value").val())}),e("#checkbox-response").val(u.join());var r,c=e.Deferred(),l=(r="validate",i.lastIndexOf("/")===i.length-1?"/"+i+r:"/"+i+"/"+r);return e.post(l,o.serialize(),function(){}).done(function(e){n.processValidation(e,s,t.showValidationForQuestion,a)?t.enableNextButton():t.disableNextButton(),c.resolve()}).fail(function(e){c.reject(e.status+" ["+e.statusText+"]")}),c.promise()};return{init:function(e){i=e,t.showNextbutton(),t.bindEventListeners(o)},validateQuestions:o}});