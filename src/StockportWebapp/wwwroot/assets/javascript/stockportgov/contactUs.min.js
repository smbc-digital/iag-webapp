define(["jquery"],function(n){var i=function(){n(".chars-remaining").each(function(i,r){$input=n(r).siblings(".form-control-deep");var a=$input.data("val-length-max");t($input,a),$input.on("keyup",function(){t(this,a)})})},t=function(n,i){var t=r(n,i);0>t?(t*=-1,$input.siblings(".chars-remaining").html("<small class='error-text'>"+t+" characters over the limit</small>")):$input.siblings(".chars-remaining").html("<small>"+t+" characters remaining</small>")},r=function(i,t){var r=n(i),a=r.val(),e=parseInt(t),l=a.match(/(\n)/g),s=0;null!=l&&(s=l.length);var u=a.length+s,o=e-u;return o},a=function(){n("form").submit(function(i){console.log("form submission triggered");var t=n(".chars-remaining");if(t.length>0){$input=t.siblings(".form-control-deep");var a=$input.data("val-length-max");r($input,a)<0&&i.preventDefault()}})},e=function(){i(),a()};return{Init:e}});