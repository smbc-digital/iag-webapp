define([],function(){var n=function(){$(".chars-remaining").each(function(n,t){$input=$(t).siblings(".form-control-deep");var a=$input.data("val-length-max");i($input,a),$input.on("keyup",function(){i(this,a)})})},i=function(n,i){var a=t(n,i);0>a?(a*=-1,$input.siblings(".chars-remaining").html("<small class='error-text'>"+a+" characters over the limit</small>")):$input.siblings(".chars-remaining").html("<small>"+a+" characters remaining</small>")},t=function(n,i){var t=$(n),a=t.val(),r=parseInt(i),e=a.match(/(\n)/g),l=0;null!=e&&(l=e.length);var s=a.length+l,u=r-s;return u},a=function(){$("form").submit(function(n){console.log("form submission triggered");var i=$(".chars-remaining");if(i.length>0){$input=i.siblings(".form-control-deep");var a=$input.data("val-length-max");t($input,a)<0&&n.preventDefault()}})},r=function(){n(),a()};return{Init:r}});