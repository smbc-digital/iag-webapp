define(["jquery"],function(l){var r=function(n,i){var t=a(n,i);t<0?(t*=-1,$input.siblings(".chars-remaining").html("<small class='error-text'>"+t+" characters over the limit</small>")):$input.siblings(".chars-remaining").html("<small>"+t+" characters remaining</small>")},a=function(n,i){var t=l(n).val(),r=parseInt(i),a=t.match(/(\n)/g),e=0;return null!=a&&(e=a.length),r-(t.length+e)};return{Init:function(){l(".chars-remaining").each(function(n,i){$input=l(i).siblings(".form-control-deep");var t=$input.data("val-length-max");r($input,t),$input.on("keyup",function(){r(this,t)})}),l("form").submit(function(n){console.log("form submission triggered");var i=l(".chars-remaining");if(0<i.length){$input=i.siblings(".form-control-deep");var t=$input.data("val-length-max");a($input,t)<0&&n.preventDefault()}})}}});