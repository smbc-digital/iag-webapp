define(["jquery"],function(a){var n=function(){var n=$("atMap"),o={};o.mapID="atMap",Event.observe(n,"astun:sourceLoad",function(o){astun.data=o;for(var e=0;e<iShareData.panels.length;e++)iShareData.panels[e].pluginData=o;options={panelWrapperTopPosition:2,attachPanelWrapperTo:"#"+n.id},jqueryFunctions(a,n,iShareData.panels,options),astun.mapWrapper.map.paddingForPopups.right=120,astun.mapWrapper.map.removeControl(a.grep(astun.mapWrapper.map.controls,function(a,n){return"olControlPanZoomBar"===a.displayClass})[0]);var r=function(){return a(window).width()<740};a('<div id="atPanelToggle" class="atPanelToggle"><a href="#" title="Menu">&nbsp;</a></div>').appendTo(".atPanelContent.olMap").click(function(){return r()?openDialog():(t(),a(".atJqOpenClose").click()),!1}),t(),a('<div id="atZoomControls" class="atZoomControls"><a href="#zoomin" class="zoomin" title="Zoom in">+</a><a href="#zoomout" class="zoomout" title="Zoom out">-</a></div>').appendTo(".atPanelContent.olMap").click(function(a){return"#zoomin"===a.target.hash?astun.mapWrapper.map.zoomIn():astun.mapWrapper.map.zoomOut(),!1})}),n.map=new Astun.JS.Map(o.mapID,{mapSource:iShareData.mapSource,layers:iShareData.layers}),window.astun.mapWrapper=n.map,n.mapSettings=Astun.JS.getConfiguration(),n.addressFinder=new Astun.JS.GetData.AddressFinder(n.map.mapElement,n.mapSettings.dataUrl)},t=function(){},o=function(){Event.observe(window,"load",function(){Astun.JS.IncludeJS("solo",n)}),window.astun||(window.astun={}),window.astun.settings={themeName:"base"}};return{Init:o}});