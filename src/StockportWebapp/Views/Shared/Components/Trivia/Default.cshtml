@using System.Text.RegularExpressions
@model IEnumerable<Trivia>

<section class="information-list">
    <h2>@ViewData["TriviaTitle"]</h2>
    <ul>
        @foreach (var informationItem in Model)
        {
            <li>
                <div class="icon-column">
                    <span class="si @informationItem.Icon"></span>
                </div>
                <div class="text-column">
                    @if (!string.IsNullOrEmpty(informationItem.Link))
                    {
                        <a class="information-item" href="@informationItem.Link" rel="@informationItem.Name">
                            @{
                                var parsedItemText = new Regex("<a((?!>).)*>")
                                    .Replace(informationItem.Text, "<span class='information-item-link'>")
                                    .Replace("</a>", "</span>");
                            }
                            @Html.Raw(parsedItemText)
                        </a>
                    }
                    else
                    {
                        @Html.Raw(informationItem.Text)
                    }
                </div>
            </li>
        }
    </ul>
</section>