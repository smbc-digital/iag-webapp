@model DirectorySearchResultViewModel
@{
    var imageExists = string.IsNullOrEmpty(Model.Entry.Image);
    var directoryClass = imageExists ? "directory-result__content--full-width" : string.Empty;
    
    var borderTeal = " navcard--border-top-10 navcard--theme-teal-lighter-top";
    var borderGrey = " navcard-all navcard--theme-grey-accent-all";
    var borderRadius = " navcard--radius-bottom-left navcard--radius-bottom-right";
}

<li class="navcard navcard--white navcard--width-100 @borderTeal navcard--no-padding-right-rtl">
    <div class="navcard__content">
        <a href=@Url.Action("DirectoryEntry", "Directory", new { directorySlug=@Model.DirectorySlug, entrySlug=@Model.Entry.Slug }) data-cy="nav-card-link" 
        class="navcard__link navcard__link--border @borderRadius navcard--border-top-0 @borderGrey">
            <div class="directory-result">
                <div class="directory-result__content @directoryClass">
                    <h3 class="navcard__title navcard__title--large">
                        @Model.Entry.Name
                    </h3>

                    @if(!string.IsNullOrEmpty(Model.Entry.Provider)){
                        <p class="navcard__sub-title">@Model.Entry.Provider</p>
                    }
                    
                    <p class="navcard__sub-title">@Model.Entry.Address</p>
                    <div class="navcard__teaser">
                        @Model.Entry.Teaser
                    </div>
                </div>

                @if(!imageExists){
                    <div class="directory-result__brand">
                        <img src="@Model.Entry.Image?w=340&q=89&fm=webp"
                             alt=""
                             width="300"
                             height="150">
                    </div>
                }
            </div>
        </a>
    </div>
</li>
