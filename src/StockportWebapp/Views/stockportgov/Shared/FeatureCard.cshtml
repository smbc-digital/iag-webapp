@inject StockportWebapp.Utils.ViewHelpers viewHelper
@model FeatureCardViewModel

<div class="feature-card__wrapper">
    <div class="feature-card__header">
        <h3>@Model.HeaderText</h3>
    </div>

    <a href="@Model.Slug" data-cy="feature-card-link" class="feature-card__link">
        <div class="feature-card__content">
            <div>
                <h3 class="feature-card__title feature-card__title--padded-bottom">@Model.Title</h3>
                <p class="feature-card__date feature-card__date--padded-bottom">
                    @if(!Model.StartTime.Equals(string.Empty)){
                        @viewHelper.FormatEventDate(Model.Date, Model.StartTime)
                    }
                    else{
                        <partial name="FormattedDate" model='Model.Date'/>
                    }
                </p>
                <p class="feature-card__teaser">@Model.Teaser</p>
            </div>

            <div class="feature-card__bottom">
                <img class="feature-card__image"
                     srcset="@Model.Image?w=709&q=89 709w,
                            @Model.Image?w=899&q=89 899w,
                            @Model.Image?w=502&q=89 502w" 
                     sizes="(max-width: 767px) 709px,
                            ((min-width: 768px) and (max-width: 1023px)) 899px,
                            (min-width: 1024px) 502px"
                    src="@Model.Image?w=899&q=89" loading="lazy" alt="" height="300" width="500">
            </div>
        </div>
    </a>
    <a href='@Url.Action("Index", Model.ButtonTargetController)' data-cy= "view-more-button" class="btn btn--full btn--pink btn--pink-outline btn--border-grey btn--bold btn--chevron-forward btn--chevron-bold">@Model.ButtonText</a>
</div>