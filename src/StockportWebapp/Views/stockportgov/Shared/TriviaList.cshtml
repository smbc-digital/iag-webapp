@model ContentBlock
@if (Model is not null && Model.SubItems?.Any() is true)
{
    string additionalCssClass = ViewData["AdditionalCssClass"] as string ?? string.Empty;

    <section class="content-block content-block--margin @additionalCssClass" data-cy="trivia-list">
        <div class="grid-container">
            <div class="grid-100">
                @if(!string.IsNullOrEmpty(Model.Title))
                {
                    <div class="content-block--margin-inline">
                        <h2 class="content-block__title">@Model.Title</h2>
                    </div>
                    <hr />
                }

                <ul class="trivia__list @(string.IsNullOrEmpty(Model.Title) ? "trivia__list--no-margin" : string.Empty)">
                    @foreach(ContentBlock contentBlock in Model.SubItems)
                    {
                        <li class="trivia__container">
                            @if(!string.IsNullOrEmpty(contentBlock.Link))
                            {
                                <a href="@contentBlock.Link" class="trivia__link" data-cy="trivia-list-link">
                                    <div>
                                        <span class="@contentBlock.Icon trivia__icon @Model.TextColourClass"></span>
                                    </div>

                                    <div class="trivia__body" data-cy="trivia-list-body">
                                        @Html.Raw(contentBlock.BodyHtml)
                                    </div>
                                </a>
                            }
                            else
                            {
                                <div class="trivia__text" data-cy="trivia-list-text">
                                    <div>
                                        <span class="@contentBlock.Icon trivia__icon @Model.TextColourClass"></span>
                                    </div>
                                    
                                    <div class="trivia__body" data-cy="trivia-list-body">
                                        @Html.Raw(contentBlock.BodyHtml)
                                    </div>
                                </div>
                            }
                        </li>
                    }
                </ul>
            </div>
        </div>
    </section>
}