@model Newsroom
@{
    bool displayImage = Model.LatestArticle.Items.All(item => !string.IsNullOrEmpty(item.TeaserImage) || !string.IsNullOrEmpty(item.Image));
    string borderTealDesktop = " navcard--border-top-10-desktop navcard--theme-teal-lighter-top-desktop";
    string borderTealTablet = " navcard--border-top-10-tablet navcard--theme-teal-lighter-top-tablet";
    string borderTealMobile = " navcard--border-left-10-mobile navcard--theme-teal-lighter-left-mobile";
    string rtlBorderCssClasses = " navcard--border-rtl-right-10-mobile navcard--theme-teal-lighter-rtl-right-mobile navcard--border-rtl-left-1-mobile navcard--theme-grey-accent-rtl-left-mobile ";
    
    string borderGreyMobile = " navcard-all-mobile navcard--theme-grey-accent-all";

    string borderCssClasses = displayImage 
        ? $"navcard--border-bottom-10 navcard--theme-teal-lighter-bottom {borderGreyMobile}"
        : $"{borderTealDesktop} {borderTealTablet} {borderTealMobile} {borderGreyMobile} {rtlBorderCssClasses}";

    bool showLastUpdatedDate = (bool)ViewData["ShowLastUpdated"];
    bool twoGrid = (bool)ViewData["twoGrid"];


    string borderCssDesktop = " navcard-all-desktop navcard--theme-grey-accent-all-desktop";
    string borderCssTablet = " navcard-all-tablet navcard--theme-grey-accent-all-tablet";
    string noBorder = " navcard--border-top-0-desktop navcard--border-top-0-tablet";
    string noBorderImage = " navcard--border-bottom-0-desktop navcard--border-bottom-0-tablet";
    string borderRadius = " navcard--radius-bottom-left navcard--radius-bottom-right";
    string borderImageRadius = " navcard--radius-top-left navcard--radius-top-right";

    string itemBorderCssClasses = displayImage 
        ? $"{noBorderImage} {borderImageRadius}"
        : $"{noBorder} {borderRadius}";
}

<ul class="navcard-wrapper navcard-wrapper--no-margin">
    @foreach (NavCard navCard in Model.LatestArticle.Items)
    {
        <li class="navcard navcard--grey navcard--width-50 navcard--no-padding-right-rtl @borderCssClasses">
            <a href="@navCard.Url" class="navcard__link @borderCssClasses @borderCssTablet @itemBorderCssClasses" data-cy="nav-card-link">
                <div class="navcard__content">
                    @if (displayImage){
                        @if (!string.IsNullOrEmpty(navCard.TeaserImage))
                        {
                            <partial name="NavCardImage" model="@navCard.TeaserImage" />
                        }
                        else
                        {
                            <partial name="NavCardImage" model="@navCard.Image" />
                        }
                    }
                    
                    <div class="navcard-content navcard-content--padding">
                        @if (showLastUpdatedDate)
                        {
                            <p class="lead"><partial name="FormattedDate" model='navCard.Date' /></p>
                        }

                        <h3 class="navcard__title navcard__title--black">@navCard.Title</h3>

                        <p class="navcard__teaser">@navCard.Teaser</p>
                    </div>
                </div>
            </a>
        </li>
    }

    @foreach (NavCard navCard in Model.Article3NewsItems.Items)
    {
        <li class="navcard navcard--grey navcard--width-20 navcard--no-padding-right-rtl @borderCssClasses">
            <a href="@navCard.Url" class="navcard__link @borderCssClasses @borderCssTablet @itemBorderCssClasses" data-cy="nav-card-link">
                <div class="navcard__content">
                    @if (displayImage){
                        @if (!string.IsNullOrEmpty(navCard.TeaserImage))
                        {
                            <partial name="NavCardImage" model="@navCard.TeaserImage" />
                        }
                        else
                        {
                            <partial name="NavCardImage" model="@navCard.Image" />
                        }
                    }
                    
                    <div class="navcard-content navcard-content--padding">
                        @if (showLastUpdatedDate)
                        {
                            <p><partial name="FormattedDate" model='navCard.Date' /></p>
                        }

                        <h3 class="navcard__title navcard__title--black" style="font-size: 1em;">@navCard.Title</h3>
                    </div>
                </div>
            </a>
        </li>
    }
</ul>

@* <ul class="navcard-wrapper navcard-wrapper--no-margin">
    @foreach (NavCard navCard in Model.Article3NewsItems.Items)
    {
        <li class="navcard navcard--grey navcard--width-25 navcard--no-padding-right-rtl @borderCssClasses">
            <a href="@navCard.Url" class="navcard__link @borderCssClasses @borderCssTablet @itemBorderCssClasses" data-cy="nav-card-link">
                <div class="navcard__content">
                    @if (displayImage){
                        @if (!string.IsNullOrEmpty(navCard.TeaserImage))
                        {
                            <partial name="NavCardImage" model="@navCard.TeaserImage" />
                        }
                        else
                        {
                            <partial name="NavCardImage" model="@navCard.Image" />
                        }
                    }
                    
                    <div class="navcard-content navcard-content--padding">
                        @if (showLastUpdatedDate)
                        {
                            <p><partial name="FormattedDate" model='navCard.Date' /></p>
                        }

                        <h3 class="navcard__title navcard__title--black" style="font-size: 1em;">@navCard.Title</h3>
                    </div>
                </div>
            </a>
        </li>
    }
</ul> *@