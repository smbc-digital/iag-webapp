@model NewsroomViewModel
@{
    Newsroom newsroom = Model.Newsroom;
}

@if (Model.HasActiveFilter())
{
    <h2 class="filters-heading">Refine by</h2>
}

<div class="l-filters">
    <ul class="filters-list" id="displayRefineBy">
        @if (Model.HasActiveFilter())
        {
            <li class="filters-active">
                <ul>
                    @if (!string.IsNullOrEmpty(Model.Category))
                    {
                        <li class="filter collapsible">
                            <a href="@Url.RouteUrl(Model.FilteredUrl.WithoutCategory())" rel="nofollow">
                                <span class="fa fa-times" aria-hidden="true"></span>
                                @Model.Category
                            </a>
                        </li>
                    }

                    @if (Model.DateFrom.HasValue && Model.DateTo.HasValue && (Model.DateFrom <= Model.DateTo))
                    {
                        <li class="filter collapsible">
                            <a href="@Url.RouteUrl(Model.FilteredUrl.WithoutDateFilter())" rel="nofollow">
                                <span class="fa fa-times" aria-hidden="true"></span>
                                @Model.GetActiveDateFilter()
                            </a>
                        </li>
                    }

                    @if (!string.IsNullOrEmpty(Model.Tag))
                    {
                        <li class="filter collapsible">
                            <a href="@Url.RouteUrl(Model.FilteredUrl.WithoutTagFilter())" rel="nofollow">
                                <span class="fa fa-times" aria-hidden="true"></span>
                                @Model.Tag
                            </a>
                        </li>
                    }
                </ul>
            </li>
        }

        @if (Model.Categories.Any())
        {
            <li class="filter collapsible" id="category-filter">
                <h3 tabindex="0"  class="filter-title focusable">Category</h3>

                <ul class="filters-list">
                    <li class=@(Model.FilteredUrl.HasNoCategoryFilter() ? "active" : string.Empty)>
                        <a href="@Url.RouteUrl(Model.FilteredUrl.WithoutCategory())">All categories</a>
                    </li>

                    @foreach (string category in Model.Categories)
                    {
                        <li class=@(Model.CurrentUrl.MatchesQueryParam("Category", category) ? "active" : string.Empty)>
                            <a href="@Url.RouteUrl(Model.FilteredUrl.AddCategoryFilter(category))" rel="nofollow">@category</a>
                        </li>
                    }
                </ul>
            </li>
        }
    </ul>
</div>

<p class="mobile-filter-heading filter-title">Filter news</p>