@using StockportWebapp.Models;
@model StockportWebapp.ViewModels.TopicViewModel
@{
    var topic = Model.Topic;
    ViewData["Title"] = topic.Name;
    Layout = "../Shared/_Layout.cshtml";
    ViewData["Description"] = topic.Teaser;
    ViewData["og:title"] = topic.Name;
}

@section BackgroundImage {
    @{ 
        if (!string.IsNullOrEmpty(topic.BackgroundImage))
        {
            @:style = "background-image:url('@topic.BackgroundImage')"
        }
    }
}

@section Breadcrumbs {
    @Html.Partial("Breadcrumb", Model.Topic.Breadcrumbs)
}

<section aria-label="@Model.Topic.Name content" class="grid-100 mobile-grid-100 l-body-section-container">   
    <div class="grid-100 l-body-section-container-holder">
        @{
            if (topic.Alerts != null)
            {
                foreach (var alert in topic.Alerts)
                {
                    @Html.Partial("DisplayTemplates/Alert", alert)
                }
            }
        }
        <div class="l-body-section-container-holder-item">
            <h2>@topic.Name</h2>
            <hr>
            @Html.Raw(topic.Summary)
        </div>
        
        @Html.Partial("SubItem-List", topic)        
    </div>
    
    <div class="grid-100 l-body-section-container-contactus">
        <div>
            <hr class="top-line">
            <p>Talk with one of our advisors today to get free specialist advice and information</p>

            <stock-button class="button button-outline button-partialrounded button-call-to-action" as-link="true" href="@Url.Action("Article", "Article", new {articleSlug = "contact-us"})">Get in touch</stock-button>
            <hr class="bottom-line">
        </div>      
    </div>
</section>